<% layout('layouts/boilerplate') %> 

<div class="d-flex">
    <div class="p-2 flex-grow-1">
        <p class="h2"><u><%= score.name %>'s scores</u></p> 
    </div>
    <% if( currentUser && score.owner.equals(currentUser._id)) { %> 
        <a class="p-2 justify-content-end" href="/scores/<%= score._id%>/edit"><button class="btn btn-primary mb-3"> <b> UPDATE SCORE </b></button></a>
    <% } %> 
</div>
        <table class="table table-bordered table-small">
            <thead class="table-dark">
                <tr>
                    <th scope="col">HOLE</th>

                    <% for(let i = 1; i <=9; i++) { %> 
                    <th scope="col"><%= i %></th>
                    <% } %> 

                    <th scope="col">OUT</th>
                </tr>
            </thead>
            <tr>
                <td>strokes</td>
                <td><%= score.hole1.strokes %></td>
                <td><%= score.hole2.strokes %></td>
                <td><%= score.hole3.strokes %></td>
                <td><%= score.hole4.strokes %></td>
                <td><%= score.hole5.strokes %></td>
                <td><%= score.hole6.strokes %></td>
                <td><%= score.hole7.strokes %></td>
                <td><%= score.hole8.strokes %></td>
                <td><%= score.hole9.strokes %></td>
                <td class="text-center"><%= score.hole1.strokes + score.hole2.strokes + score.hole3.strokes + score.hole4.strokes + score.hole5.strokes + score.hole6.strokes + score.hole7.strokes + score.hole8.strokes + score.hole9.strokes %></td>
                
            </tr>
            <tr>
                <td>putts</td>
                <td><%= score.hole1.putts%></td>
                <td><%= score.hole2.putts %></td>
                <td><%= score.hole3.putts %></td>
                <td><%= score.hole4.putts %></td>
                <td><%= score.hole5.putts %></td>
                <td><%= score.hole6.putts %></td>
                <td><%= score.hole7.putts %></td>
                <td><%= score.hole8.putts %></td>
                <td><%= score.hole9.putts %></td>
                <td class="text-center"><%=  score.hole1.putts + score.hole2.putts + score.hole3.putts + score.hole4.putts + score.hole5.putts + score.hole6.putts + score.hole7.putts + score.hole8.putts + score.hole9.putts %></td>
            </tr>
        </table>


        <table class="table table-bordered table-small">
            <thead class="table-dark">
                <tr>

                    <% for(let i = 10; i <= 18; i++) { %> 
                        <th scope="col"><%= i %></th>
                        <% } %> 

                        <th scope="col">IN</th>
                </tr>
            </thead>
            <tr>
                <td><%= score.hole10.strokes %></td>
                <td><%= score.hole11.strokes %></td>
                <td><%= score.hole12.strokes %></td>
                <td><%= score.hole13.strokes %></td>
                <td><%= score.hole14.strokes %></td>
                <td><%= score.hole15.strokes %></td>
                <td><%= score.hole16.strokes %></td>
                <td><%= score.hole17.strokes %></td>
                <td><%= score.hole18.strokes %></td>
                <td><%= score.hole10.strokes + score.hole11.strokes + score.hole12.strokes + score.hole13.strokes + score.hole14.strokes + score.hole15.strokes + score.hole16.strokes + score.hole17.strokes + score.hole18.strokes %></td>
            </tr>
            <tr>
                <td><%= score.hole10.putts %></td>
                <td><%= score.hole11.putts %></td>
                <td><%= score.hole12.putts %></td>
                <td><%= score.hole13.putts %></td>
                <td><%= score.hole14.putts %></td>
                <td><%= score.hole15.putts %></td>
                <td><%= score.hole16.putts %></td>
                <td><%= score.hole17.putts %></td>
                <td><%= score.hole18.putts %></td>
                <td><%= score.hole10.putts + score.hole11.putts + score.hole12.putts + score.hole13.putts + score.hole14.putts + score.hole15.putts + score.hole16.putts + score.hole17.putts + score.hole18.putts %></td>
            </tr>
        </table>



<% if( currentUser && score.owner.equals(currentUser._id)) { %>
<div class="mb-3">
    <form action="/scores/<%=score._id%>?_method=DELETE" method="POST">
        <button class="btn btn-sm btn-danger"><b>DELETE SCORE</b></button>
    </form>
</div>
 

<div class="d-flex justify-content-end mb-3">
    <a href="/scores/<%=score._id%>/newGreenie"><button class="btn btn-success"><b>ADD GREENIE</b></button></a>
</div>
<% } %>



<% for(let greenie of score.greenies) { %> 
    <div class="container mb-3">
        <div class="card">
            <div class="card-header bg-secondary text-white">

            </div>
            <div class="card-body bg-success text-white d-flex">
            <% if( currentUser && score.owner.equals(currentUser._id)) { %>
                <form action="/scores/<%= score._id %>/greenies/<%= greenie._id %>?_method=DELETE" method="POST">
                    <button class="btn btn-sm btn-danger"><b>DELETE</b></button>
                </form>
            
            <% } %> 

                <h5 class=""><b>HOLE  <%= greenie.holeNum %> @ <%= greenie.feet %>' <%= greenie.inches %>" </b> </h5>
            
            </div>
        </div>
    </div>
<% } %> 



